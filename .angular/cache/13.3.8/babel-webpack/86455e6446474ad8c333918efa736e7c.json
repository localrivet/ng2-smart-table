{"ast":null,"code":"import { SimpleChanges } from '@angular/core';\nimport { FilterDefault } from './filter-default';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"./custom-filter.component\";\nimport * as i3 from \"./default-filter.component\";\n\nfunction FilterComponent_div_0_custom_table_filter_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"custom-table-filter\", 4);\n    i0.ɵɵlistener(\"filter\", function FilterComponent_div_0_custom_table_filter_1_Template_custom_table_filter_filter_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return ctx_r3.onFilter($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"query\", ctx_r1.query)(\"column\", ctx_r1.column)(\"source\", ctx_r1.source)(\"inputClass\", ctx_r1.inputClass);\n  }\n}\n\nfunction FilterComponent_div_0_default_table_filter_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"default-table-filter\", 4);\n    i0.ɵɵlistener(\"filter\", function FilterComponent_div_0_default_table_filter_2_Template_default_table_filter_filter_0_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return ctx_r5.onFilter($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"query\", ctx_r2.query)(\"column\", ctx_r2.column)(\"source\", ctx_r2.source)(\"inputClass\", ctx_r2.inputClass);\n  }\n}\n\nfunction FilterComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵtemplate(1, FilterComponent_div_0_custom_table_filter_1_Template, 1, 4, \"custom-table-filter\", 2);\n    i0.ɵɵtemplate(2, FilterComponent_div_0_default_table_filter_2_Template, 1, 4, \"default-table-filter\", 3);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngSwitch\", ctx_r0.column.getFilterType());\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"custom\");\n  }\n}\n\nexport let FilterComponent = /*#__PURE__*/(() => {\n  class FilterComponent extends FilterDefault {\n    constructor() {\n      super(...arguments);\n      this.query = '';\n    }\n\n    ngOnChanges(changes) {\n      if (changes.source) {\n        if (!changes.source.firstChange) {\n          this.dataChangedSub.unsubscribe();\n        }\n\n        this.dataChangedSub = this.source.onChanged().subscribe(dataChanges => {\n          const filterConf = this.source.getFilter();\n\n          if (filterConf && filterConf.filters && filterConf.filters.length === 0) {\n            this.query = ''; // add a check for existing filters an set the query if one exists for this column\n            // this covers instances where the filter is set by user code while maintaining existing functionality\n          } else if (filterConf && filterConf.filters && filterConf.filters.length > 0) {\n            filterConf.filters.forEach((k, v) => {\n              if (k.field == this.column.id) {\n                this.query = k.search;\n              }\n            });\n          }\n        });\n      }\n    }\n\n  }\n\n  FilterComponent.ɵfac = /*@__PURE__*/function () {\n    let ɵFilterComponent_BaseFactory;\n    return function FilterComponent_Factory(t) {\n      return (ɵFilterComponent_BaseFactory || (ɵFilterComponent_BaseFactory = i0.ɵɵgetInheritedFactory(FilterComponent)))(t || FilterComponent);\n    };\n  }();\n\n  FilterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FilterComponent,\n    selectors: [[\"ng2-smart-table-filter\"]],\n    features: [i0.ɵɵInheritDefinitionFeature, i0.ɵɵNgOnChangesFeature],\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"ng2-smart-filter\", 3, \"ngSwitch\", 4, \"ngIf\"], [1, \"ng2-smart-filter\", 3, \"ngSwitch\"], [3, \"query\", \"column\", \"source\", \"inputClass\", \"filter\", 4, \"ngSwitchCase\"], [3, \"query\", \"column\", \"source\", \"inputClass\", \"filter\", 4, \"ngSwitchDefault\"], [3, \"query\", \"column\", \"source\", \"inputClass\", \"filter\"]],\n    template: function FilterComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, FilterComponent_div_0_Template, 3, 2, \"div\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.column.isFilterable);\n      }\n    },\n    directives: [i1.NgIf, i1.NgSwitch, i1.NgSwitchCase, i2.CustomFilterComponent, i1.NgSwitchDefault, i3.DefaultFilterComponent],\n    styles: [\"[_nghost-%COMP%]   .ng2-smart-filter[_ngcontent-%COMP%]     input, [_nghost-%COMP%]   .ng2-smart-filter[_ngcontent-%COMP%]     select{width:100%;line-height:normal;padding:.375em .75em;font-weight:400}[_nghost-%COMP%]   .ng2-smart-filter[_ngcontent-%COMP%]     input[type=search]{box-sizing:inherit}[_nghost-%COMP%]   .ng2-smart-filter[_ngcontent-%COMP%]     .completer-dropdown-holder{font-weight:400}[_nghost-%COMP%]   .ng2-smart-filter[_ngcontent-%COMP%]     a{font-weight:400}\"]\n  });\n  return FilterComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}